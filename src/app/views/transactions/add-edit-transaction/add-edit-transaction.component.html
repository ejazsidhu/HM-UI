<div class="card">
    <div class="card-header">
        Add/Edit Transaction
    </div>
    <div class="card-body">
        <form [formGroup]="transactionForm">

            <div class="form-group">
                <label for="account">Account</label>
                <select id="account" class="form-control" formControlName="accountId" required>
                    @for ( account of accounts ?? [] ; track account?.number ) {
                    <option [value]="account?._id">{{ account?.name }} - {{account?.number}}</option>
                    }
                </select>
                @if (transactionForm?.get('accountId')?.invalid && transactionForm?.get('accountId')?.touched) {
                <div class="text-danger">
                    Account is required.
                </div>
                }
            </div>
            <div class="form-group">
                <label for="description">Transaction description</label>
                <input type="text" id="description" class="form-control" formControlName="description" required>
                @if (transactionForm?.get('description')?.invalid && transactionForm?.get('description')?.touched) {
                <div class="text-danger">
                    Transaction Description is required.
                </div>
                }
            </div>
            <div class="form-group">
                <label for="amount">Amount</label>
                <input type="number" id="amount" class="form-control" formControlName="amount" required>
                @if (transactionForm?.get('amount')?.invalid && transactionForm?.get('amount')?.touched) {
                <div class="text-danger">
                    Amount is required.
                </div>
                }
            </div>
            <div class="form-group">
                <label for="date">Date</label>
                <input type="date" id="date" class="form-control" formControlName="date" required>
                @if (transactionForm?.get('date')?.invalid && transactionForm?.get('date')?.touched) {
                <div class="text-danger">
                    Date is required.
                </div>
                }
            </div>

        </form>
    </div>
    <div class="card-footer text-right d-flex justify-content-end">
        <button type="submit" class="btn btn-primary" [disabled]="transactionForm.invalid"
            (click)="onSubmit()">{{isEditMode ? 'Update': 'Submit'}}</button>
        <button type="button" class="btn btn-secondary mx-2" (click)="onCancel()">Cancel</button>
    </div>
</div>